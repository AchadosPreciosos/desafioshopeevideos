<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPA Interativo: Desafio 30 Dias Shopee V√≠deos</title>
    
    <!-- Chosen Palette: Calm Harmony Neutrals -->
    <!-- Application Structure Plan: A single-page dashboard with a dynamic content area. A prominent challenge selector (radio buttons) at the top allows users to switch between 4 distinct challenge plans. The selected plan's details (weekly themes, daily tasks, tips) are dynamically rendered below. An interactive donut chart visually summarizes the currently displayed challenge's structure and acts as a navigation aid. Task cards within each challenge allow users to reveal more details, track completion, and generate AI-powered content (video ideas, captions, hashtags) using the Gemini API. A dedicated bonus section explicitly links the provided media pack's niches to the challenge weeks. This structure was chosen to provide a comprehensive, yet easily navigable and interactive, resource for Shopee sellers, allowing them to choose and track their preferred 30-day content strategy, now enhanced with AI creative assistance. -->
    <!-- Visualization & Content Choices: 1) Report Info: 4 distinct 30-day challenge plans. Goal: Inform/Organize. Viz: Dynamic Content Area controlled by radio buttons. Interaction: User selects a challenge, and its full details are rendered. Justification: Provides flexibility and allows exploration of all provided strategies within a single page. Library: Vanilla JS. 2) Report Info: Weekly structure of the selected challenge. Goal: Inform/Organize. Viz: Donut Chart. Interaction: Clicking a chart segment scrolls to the corresponding week's section. Justification: Offers a quick visual summary and enhances navigation, adapting to the selected challenge's weekly breakdown. Library: Chart.js (Canvas). 3) Report Info: Daily video ideas and production tips. Goal: Inform/Organize. Viz: Interactive Cards. Interaction: A button toggles the visibility of production tips, a checkbox allows users to mark tasks as complete, and new buttons trigger AI content generation. Justification: Breaks down information into manageable chunks, prevents overload, adds a motivational progress-tracking feature, and provides AI-powered creative assistance. Library: Vanilla JS, Gemini API. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDF8F0;
            color: #4A4A4A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: auto;
            margin: auto;
        }
        .task-card {
            transition: all 0.3s ease-in-out;
            border-width: 2px;
        }
        .task-card.completed {
            border-color: #10B981;
            background-color: #F0FDF4;
            transform: scale(1.02);
        }
        .task-card.completed .task-title {
            text-decoration: line-through;
            color: #52525B;
        }
        .smooth-scroll {
            scroll-behavior: smooth;
        }
        .nav-link {
            transition: all 0.2s ease;
        }
        .nav-link:hover {
            color: #F97316;
            transform: translateY(-2px);
        }
        .challenge-selector input[type="radio"]:checked + label {
            background-color: #F97316;
            color: white;
            border-color: #F97316;
        }
        .challenge-selector label {
            transition: all 0.2s ease;
        }
        .llm-results-area {
            background-color: #f7f7f7;
            border-left: 4px solid #F97316;
            padding: 10px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 0.9em;
            color: #333;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .loading-spinner {
            display: inline-block;
            width: 1em;
            height: 1em;
            border: 2px solid rgba(0,0,0,.3);
            border-radius: 50%;
            border-top-color: #F97316;
            animation: spin 1s ease-in-out infinite;
            -webkit-animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { -webkit-transform: rotate(360deg); }
        }
        @-webkit-keyframes spin {
            to { -webkit-transform: rotate(360deg); }
        }
    </style>
</head>
<body class="smooth-scroll">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <h1 class="text-2xl md:text-4xl font-extrabold text-center text-orange-600">
                Desafio 30 Dias Shopee V√≠deos
            </h1>
            <p class="text-center text-gray-600 mt-1">Seu Guia Interativo para Dominar o Conte√∫do e Vender Mais</p>
        </div>
        <nav class="bg-white shadow-sm">
            <ul id="main-nav" class="flex items-center justify-center space-x-4 sm:space-x-8 p-3 text-sm font-medium text-gray-700">
                <!-- Navigation links will be dynamically generated based on the selected challenge -->
            </ul>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <!-- Challenge Selector Section -->
        <section class="text-center mb-12">
            <h2 class="text-2xl font-bold mb-4">Escolha Seu Desafio:</h2>
            <div class="challenge-selector flex flex-wrap justify-center gap-4 mb-8">
                <input type="radio" id="challenge1" name="challenge_option" value="option1" class="hidden">
                <label for="challenge1" class="cursor-pointer px-6 py-3 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:bg-orange-100 hover:border-orange-400">Op√ß√£o 1: Meu Produto, Minha Hist√≥ria</label>

                <input type="radio" id="challenge2" name="challenge_option" value="option2" class="hidden">
                <label for="challenge2" class="cursor-pointer px-6 py-3 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:bg-orange-100 hover:border-orange-400">Op√ß√£o 2: Guia Essencial de Produtos</label>

                <input type="radio" id="challenge3" name="challenge_option" value="option3" class="hidden">
                <label for="challenge3" class="cursor-pointer px-6 py-3 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:bg-orange-100 hover:border-orange-400">Op√ß√£o 3: Trend Hunter</label>

                <input type="radio" id="challenge4" name="challenge_option" value="option4" class="hidden" checked>
                <label for="challenge4" class="cursor-pointer px-6 py-3 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:bg-orange-100 hover:border-orange-400">Op√ß√£o 4: Meu Mix de Sucesso (Recomendado)</label>
            </div>

            <div id="challenge-overview" class="mb-8">
                <h2 class="text-2xl font-bold mb-2" id="current-challenge-title"></h2>
                <p class="max-w-2xl mx-auto text-gray-600 mb-6" id="current-challenge-description"></p>
                <div class="chart-container">
                    <canvas id="challengeChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Dynamic Challenge Content Area -->
        <div id="dynamic-challenge-content">
            <!-- Content will be loaded here by JavaScript -->
        </div>
        
        <!-- Essential Tips -->
        <section id="dicas" class="mb-16 pt-16 -mt-16">
            <h2 class="text-3xl font-bold mb-3 text-gray-800 border-b-2 border-gray-300 pb-2">Dicas Essenciais para o Sucesso</h2>
            <p class="text-gray-600 mb-8">Aplique estas estrat√©gias em todos os seus v√≠deos para maximizar o impacto e os resultados do seu desafio.</p>
            <ul class="space-y-4">
                <li class="bg-white p-4 rounded-lg shadow"><strong>Consist√™ncia √© Chave:</strong> Mantenha o ritmo di√°rio de postagens. A regularidade √© crucial para o algoritmo e para o p√∫blico.</li>
                <li class="bg-white p-4 rounded-lg shadow"><strong>Qualidade do V√≠deo:</strong> Invista em boa ilumina√ß√£o (luz natural √© sua melhor amiga!), √°udio claro e edi√ß√£o simples e din√¢mica.</li>
                <li class="bg-white p-4 rounded-lg shadow"><strong>Hashtags Estrat√©gicas:</strong> Pesquise hashtags em alta e crie uma exclusiva para o seu desafio. Use uma combina√ß√£o de hashtags amplas e espec√≠ficas.</li>
                <li class="bg-white p-4 rounded-lg shadow"><strong>Interaja com a Audi√™ncia:</strong> Responda a todos os coment√°rios e perguntas. O engajamento gera mais visibilidade.</li>
                <li class="bg-white p-4 rounded-lg shadow"><strong>Call to Action (CTA) Claro:</strong> Sempre finalize seus v√≠deos com uma chamada clara para a a√ß√£o ("Compre agora!", "Visite minha loja!").</li>
                <li class="bg-white p-4 rounded-lg shadow"><strong>Analise os Resultados:</strong> Monitore o que funciona melhor e ajuste sua estrat√©gia usando as ferramentas de an√°lise da Shopee.</li>
            </ul>
        </section>

        <!-- Bonus Section -->
        <section id="bonus" class="pt-16 -mt-16">
            <div class="bg-gradient-to-r from-orange-500 to-amber-500 text-white p-8 rounded-xl shadow-2xl text-center">
                <h2 class="text-3xl font-extrabold mb-3">B√îNUS EXCLUSIVO PARA VOC√ä!</h2>
                <p class="mb-2">Acelere sua cria√ß√£o de conte√∫do com acesso a um acervo gigantesco de v√≠deos e imagens edit√°veis.</p>
                <p class="font-bold mb-6">PACK COM MAIS DE 1000 M√çDIAS PRONTAS PARA POSTAR!</p>
                <p class="text-sm italic mb-6">Este pack cont√©m m√≠dias separadas por nichos, perfeitas para complementar as semanas do seu desafio:</p>
                <div class="flex flex-wrap justify-center gap-4 text-sm mb-8">
                    <span class="bg-white text-orange-700 px-3 py-1 rounded-full shadow-md">Casa e Decora√ß√£o (Semana 1)</span>
                    <span class="bg-white text-teal-700 px-3 py-1 rounded-full shadow-md">Maternidade (Semana 2)</span>
                    <span class="bg-white text-rose-700 px-3 py-1 rounded-full shadow-md">Beleza (Semana 3)</span>
                    <span class="bg-white text-indigo-700 px-3 py-1 rounded-full shadow-md">Moda (Semana 4)</span>
                    <span class="bg-white text-gray-700 px-3 py-1 rounded-full shadow-md">Eletr√¥nicos</span>
                    <span class="bg-white text-gray-700 px-3 py-1 rounded-full shadow-md">Variados</span>
                </div>
                <a href="https://t.me/viralizandoshopee" target="_blank" rel="noopener noreferrer" class="inline-block bg-white text-orange-600 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transition-transform transform hover:scale-105">
                    Acessar Agora
                </a>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const challengeData = {
                option1: {
                    title: 'Desafio: Meu Produto, Minha Hist√≥ria',
                    description: 'Este desafio incentiva a cria√ß√£o de v√≠deos mais pessoais e com storytelling, conectando o p√∫blico √† sua marca de uma forma mais profunda.',
                    weeks: [
                        { id: 'semana1-opt1', title: 'Semana 1: Conectando com a Marca', niche: 'Marca/Storytelling', color: 'rgba(249, 115, 22, 0.7)', border: 'rgba(249, 115, 22, 1)', tasks: [
                            { days: 'Dias 1-3', idea: 'Apresente voc√™/sua equipe e o prop√≥sito da sua loja.', tips: 'Compartilhe sua paix√£o e o que te motiva. Use um tom pessoal e convidativo.', basePrompt: 'Apresentar a si mesmo/equipe e o prop√≥sito da loja.' },
                            { days: 'Dias 4-6', idea: 'Mostre o processo de cria√ß√£o ou escolha de um produto.', tips: 'Filme os bastidores, a curadoria ou a inspira√ß√£o por tr√°s de um item. Mostre o cuidado e a qualidade.', basePrompt: 'Mostrar o processo de cria√ß√£o ou escolha de um produto.' },
                            { days: 'Dia 7', idea: 'Compartilhe um "antes e depois" de um cliente usando seu produto ou um depoimento.', tips: 'Pe√ßa permiss√£o para usar depoimentos reais. Foque no impacto positivo do seu produto na vida do cliente.', basePrompt: 'Compartilhar um "antes e depois" de um cliente usando o produto ou um depoimento.' }
                        ]},
                        { id: 'semana2-opt1', title: 'Semana 2: A Vida do Produto', niche: 'Produto/Demonstra√ß√£o', color: 'rgba(20, 184, 166, 0.7)', border: 'rgba(20, 184, 166, 1)', tasks: [
                            { days: 'Dias 8-10', idea: 'Mostre o produto em diferentes contextos de uso.', tips: 'Ex: roupas em looks variados, utens√≠lios de cozinha em receitas. Crie cen√°rios que inspirem.', basePrompt: 'Mostrar o produto em diferentes contextos de uso.' },
                            { days: 'Dias 11-13', idea: 'Fale sobre os benef√≠cios espec√≠ficos de cada produto, um por dia.', tips: 'V√° al√©m das caracter√≠sticas. Como o produto resolve um problema ou melhora a vida do cliente?', basePrompt: 'Falar sobre os benef√≠cios espec√≠ficos de cada produto.' },
                            { days: 'Dia 14', idea: 'Responda √†s perguntas mais frequentes sobre um produto espec√≠fico.', tips: 'Use o formato de Q&A. Seja claro e objetivo. Isso constr√≥i confian√ßa.', basePrompt: 'Responder √†s perguntas mais frequentes sobre um produto espec√≠fico.' }
                        ]},
                        { id: 'semana3-opt1', title: 'Semana 3: Bastidores e Curiosidades', niche: 'Bastidores/Curiosidades', color: 'rgba(225, 29, 72, 0.7)', border: 'rgba(225, 29, 72, 1)', tasks: [
                            { days: 'Dias 15-17', idea: 'Mostre a embalagem, o envio ou um "dia na vida" da sua loja.', tips: 'Humanize sua marca. Mostre o cuidado com cada etapa do processo. Use time-lapse.', basePrompt: 'Mostrar a embalagem, o envio ou um "dia na vida" da loja.' },
                            { days: 'Dias 18-20', idea: 'Compartilhe curiosidades ou fatos pouco conhecidos sobre seus produtos ou mat√©ria-prima.', tips: 'Conte hist√≥rias interessantes sobre a origem ou a fabrica√ß√£o. Desperte a curiosidade.', basePrompt: 'Compartilhar curiosidades ou fatos pouco conhecidos sobre produtos ou mat√©ria-prima.' },
                            { days: 'Dia 21', idea: 'Apresente um "produto estrela" e por que ele √© especial para voc√™.', tips: 'Compartilhe sua paix√£o por esse item. Conte a hist√≥ria por tr√°s dele e seus diferenciais.', basePrompt: 'Apresentar um "produto estrela" e por que ele √© especial.' }
                        ]},
                        { id: 'semana4-opt1', title: 'Semana 4: Intera√ß√£o e Chamada para A√ß√£o', niche: 'Engajamento/Vendas', color: 'rgba(79, 70, 229, 0.7)', border: 'rgba(79, 70, 229, 1)', tasks: [
                            { days: 'Dias 22-24', idea: 'Pe√ßa aos seguidores para compartilharem suas experi√™ncias com seus produtos.', tips: 'Incentive o conte√∫do gerado pelo usu√°rio (UGC). Crie uma hashtag para isso.', basePrompt: 'Pedir aos seguidores para compartilharem suas experi√™ncias com os produtos.' },
                            { days: 'Dias 25-27', idea: 'Fa√ßa enquetes ou perguntas sobre quais produtos eles gostariam de ver em v√≠deo.', tips: 'Use as ferramentas interativas da Shopee. Isso gera ideias e engajamento.', basePrompt: 'Fazer enquetes ou perguntas sobre produtos que gostariam de ver em v√≠deo.' },
                            { days: 'Dias 28-30', idea: 'Anuncie uma oferta especial ou um cupom de desconto exclusivo para quem assiste aos v√≠deos.', tips: 'Crie um senso de urg√™ncia e exclusividade. Direcione claramente para a compra.', basePrompt: 'Anunciar uma oferta especial ou cupom de desconto exclusivo para quem assiste aos v√≠deos.' }
                        ]}
                    ]
                },
                option2: {
                    title: 'Desafio: Guia Essencial de Produtos',
                    description: 'Esta op√ß√£o √© ideal para quem quer focar na demonstra√ß√£o de produtos, suas funcionalidades e como eles podem resolver problemas ou melhorar a vida dos clientes.',
                    weeks: [
                        { id: 'semana1-opt2', title: 'Semana 1: Primeiros Passos e Destaques', niche: 'Destaque de Produtos', color: 'rgba(249, 115, 22, 0.7)', border: 'rgba(249, 115, 22, 1)', tasks: [
                            { days: 'Dias 1-3', idea: 'Apresente seus 3 produtos mais vendidos e por que eles s√£o populares.', tips: 'Foque nos benef√≠cios que os tornam campe√µes de venda. Use depoimentos se tiver.', basePrompt: 'Apresentar os 3 produtos mais vendidos e suas raz√µes de popularidade.' },
                            { days: 'Dias 4-6', idea: 'Fa√ßa um v√≠deo de "unboxing" ou "primeira impress√£o" de um produto.', tips: 'Mostre a experi√™ncia de abrir a embalagem. Realce a qualidade e o cuidado com o envio.', basePrompt: 'Fazer um v√≠deo de "unboxing" ou "primeira impress√£o" de um produto.' },
                            { days: 'Dia 7', idea: 'Mostre a montagem ou o preparo de um produto que exija isso.', tips: 'Simplifique o processo para o cliente. Use time-lapse para produtos complexos.', basePrompt: 'Mostrar a montagem ou o preparo de um produto.' }
                        ]},
                        { id: 'semana2-opt2', title: 'Semana 2: Demonstra√ß√£o em A√ß√£o', niche: 'Demonstra√ß√£o de Uso', color: 'rgba(20, 184, 166, 0.7)', border: 'rgba(20, 184, 166, 1)', tasks: [
                            { days: 'Dias 8-10', idea: 'Demonstre como usar 3 produtos diferentes (um por dia).', tips: 'Mostre o produto em uso real, destacando suas funcionalidades e facilidade de manuseio.', basePrompt: 'Demonstrar como usar 3 produtos diferentes.' },
                            { days: 'Dias 11-13', idea: 'Compare dois produtos similares e explique as diferen√ßas.', tips: 'Ajude o cliente a escolher. Destaque os pr√≥s e contras de cada um de forma imparcial.', basePrompt: 'Comparar dois produtos similares e explicar as diferen√ßas.' },
                            { days: 'Dia 14', idea: 'Crie um v√≠deo de "hack" ou dica de uso inesperado de um produto.', tips: 'Surpreenda e mostre a versatilidade. Isso gera compartilhamento e interesse.', basePrompt: 'Criar um v√≠deo de "hack" ou dica de uso inesperado de um produto.' }
                        ]},
                        { id: 'semana3-opt2', title: 'Semana 3: Solu√ß√µes e Combina√ß√µes', niche: 'Solu√ß√µes e Kits', color: 'rgba(225, 29, 72, 0.7)', border: 'rgba(225, 29, 72, 1)', tasks: [
                            { days: 'Dias 15-17', idea: 'Mostre como seus produtos resolvem problemas comuns.', tips: 'Identifique dores do cliente e apresente seu produto como a solu√ß√£o ideal.', basePrompt: 'Mostrar como os produtos resolvem problemas comuns.' },
                            { days: 'Dias 18-20', idea: 'Crie "kits" ou "combina√ß√µes" de produtos que se complementam.', tips: 'Incentive a compra de mais itens. Mostre como eles funcionam bem juntos.', basePrompt: 'Criar "kits" ou "combina√ß√µes" de produtos que se complementam.' },
                            { days: 'Dia 21', idea: 'Responda a 5 perguntas frequentes sobre o uso de um produto complexo.', tips: 'Descomplique. Use recursos visuais para explicar conceitos dif√≠ceis.', basePrompt: 'Responder a 5 perguntas frequentes sobre o uso de um produto complexo.' }
                        ]},
                        { id: 'semana4-opt2', title: 'Semana 4: Manuten√ß√£o, Cuidados e Ofertas', niche: 'Cuidados e Ofertas', color: 'rgba(79, 70, 229, 0.7)', border: 'rgba(79, 70, 229, 1)', tasks: [
                            { days: 'Dias 22-24', idea: 'D√™ dicas de cuidado e manuten√ß√£o para prolongar a vida √∫til de seus produtos.', tips: 'Mostre o valor a longo prazo. Isso fideliza o cliente e reduz devolu√ß√µes.', basePrompt: 'Dar dicas de cuidado e manuten√ß√£o para prolongar a vida √∫til dos produtos.' },
                            { days: 'Dias 25-27', idea: 'Mostre como seus produtos se encaixam em diferentes estilos de vida ou necessidades.', tips: 'Personalize a mensagem. Ex: para estudantes, para m√£es, para atletas.', basePrompt: 'Mostrar como os produtos se encaixam em diferentes estilos de vida ou necessidades.' },
                            { days: 'Dias 28-30', idea: 'Anuncie um lan√ßamento, uma promo√ß√£o de 24 horas ou um combo especial.', tips: 'Crie um senso de urg√™ncia e exclusividade para os √∫ltimos dias do desafio.', basePrompt: 'Anunciar um lan√ßamento, promo√ß√£o de 24 horas ou combo especial.' }
                        ]}
                    ]
                },
                option3: {
                    title: 'Desafio: Trend Hunter',
                    description: 'Este desafio explora as tend√™ncias do Shopee V√≠deos e do TikTok, adaptando-as aos seus produtos para maximizar o alcance e a intera√ß√£o.',
                    weeks: [
                        { id: 'semana1-opt3', title: 'Semana 1: Tend√™ncias em Alta', niche: 'Tend√™ncias Virais', color: 'rgba(249, 115, 22, 0.7)', border: 'rgba(249, 115, 22, 1)', tasks: [
                            { days: 'Dias 1-3', idea: 'Adapte um √°udio ou trend popular com seus produtos (ex: "POV", "Seu ____ x Meu ____").', tips: 'Pesquise o que est√° bombando. Seja criativo e r√°pido na adapta√ß√£o.', basePrompt: 'Adaptar um √°udio ou trend popular com os produtos.' },
                            { days: 'Dias 4-6', idea: 'Crie um v√≠deo de transi√ß√£o criativo com seus produtos.', tips: 'Use transi√ß√µes suaves ou impactantes. Mostre a transforma√ß√£o ou a variedade de itens.', basePrompt: 'Criar um v√≠deo de transi√ß√£o criativo com os produtos.' },
                            { days: 'Dia 7', idea: 'Fa√ßa um "challenge" r√°pido (ex: 5 segundos para arrumar algo com seu produto).', tips: 'Desafie seus seguidores. Crie algo divertido e f√°cil de replicar.', basePrompt: 'Fazer um "challenge" r√°pido com o produto.' }
                        ]},
                        { id: 'semana2-opt3', title: 'Semana 2: Humor e Intera√ß√£o', niche: 'Humor e Engajamento', color: 'rgba(20, 184, 166, 0.7)', border: 'rgba(20, 184, 166, 1)', tasks: [
                            { days: 'Dias 8-10', idea: 'Use um meme ou √°udio engra√ßado relacionado a situa√ß√µes do dia a dia onde seu produto ajuda.', tips: 'Conecte-se com o p√∫blico de forma leve. O humor gera compartilhamento.', basePrompt: 'Usar um meme ou √°udio engra√ßado relacionado a situa√ß√µes do dia a dia onde o produto ajuda.' },
                            { days: 'Dias 11-13', idea: 'Fa√ßa v√≠deos de perguntas e respostas r√°pidas com seus produtos (ex: "Este ou Aquele?").', tips: 'Use a fun√ß√£o de enquete. Incentive a intera√ß√£o e a decis√£o do cliente.', basePrompt: 'Fazer v√≠deos de perguntas e respostas r√°pidas com os produtos.' },
                            { days: 'Dia 14', idea: 'Crie um "quiz" visual ou "adivinhe o produto" com seus itens.', tips: 'Desafie o conhecimento dos seguidores. Use close-ups e √¢ngulos diferentes.', basePrompt: 'Criar um "quiz" visual ou "adivinhe o produto" com os itens.' }
                        ]},
                        { id: 'semana3-opt3', title: 'Semana 3: Criatividade Visual', niche: 'Criatividade Visual', color: 'rgba(225, 29, 72, 0.7)', border: 'rgba(225, 29, 72, 1)', tasks: [
                            { days: 'Dias 15-17', idea: 'Mostre uma "transforma√ß√£o" ou "antes e depois" usando um de seus produtos.', tips: 'Pode ser uma mudan√ßa de estilo, de ambiente ou de apar√™ncia. Foque no impacto visual.', basePrompt: 'Mostrar uma "transforma√ß√£o" ou "antes e depois" usando um produto.' },
                            { days: 'Dias 18-20', idea: 'Fa√ßa um v√≠deo com efeito de c√¢mera lenta ou r√°pido destacando detalhes do produto.', tips: 'Valorize a textura, o material, o acabamento. Crie um v√≠deo hipnotizante.', basePrompt: 'Fazer um v√≠deo com efeito de c√¢mera lenta ou r√°pido destacando detalhes do produto.' },
                            { days: 'Dia 21', idea: 'Crie um "mini-vlog" mostrando seu produto em um cen√°rio interessante.', tips: 'Leve o produto para um passeio. Mostre-o em um ambiente real e inspirador.', basePrompt: 'Criar um "mini-vlog" mostrando o produto em um cen√°rio interessante.' }
                        ]},
                        { id: 'semana4-opt3', title: 'Semana 4: Chamada √† A√ß√£o Viral', niche: 'A√ß√£o Viral/Concurso', color: 'rgba(79, 70, 229, 0.7)', border: 'rgba(79, 70, 229, 1)', tasks: [
                            { days: 'Dias 22-24', idea: 'Incentive os seguidores a criarem v√≠deos com seus produtos usando uma hashtag espec√≠fica.', tips: 'Promova o conte√∫do gerado pelo usu√°rio (UGC). Ofere√ßa um incentivo.', basePrompt: 'Incentivar seguidores a criarem v√≠deos com os produtos usando uma hashtag espec√≠fica.' },
                            { days: 'Dias 25-27', idea: 'Reaja a v√≠deos de clientes usando seus produtos (se tiver).', tips: 'Mostre que voc√™ valoriza seus clientes. Compartilhe e comente os v√≠deos deles.', basePrompt: 'Reagir a v√≠deos de clientes usando os produtos.' },
                            { days: 'Dias 28-30', idea: 'Lance um "mini-concurso" no final do desafio, pedindo para as pessoas usarem um filtro ou m√∫sica espec√≠fica e mostrarem como seus produtos se encaixam em suas vidas, com um pr√™mio para o melhor v√≠deo.', tips: 'Crie um senso de competi√ß√£o saud√°vel e recompense o engajamento. Divulgue amplamente.', basePrompt: 'Lan√ßar um "mini-concurso" no final do desafio.' }
                        ]}
                    ]
                },
                option4: {
                    title: 'Desafio: Meu Mix de Sucesso',
                    description: 'Este desafio √© perfeito para lojas com um mix de produtos variado, permitindo que voc√™ explore cada categoria com v√≠deos dedicados, mantendo o interesse de diferentes p√∫blicos ao longo do m√™s.',
                    weeks: [
                        { id: 'semana1-opt4', title: 'Semana 1: Lar, Doce Lar (Casa e Decora√ß√£o)', niche: 'Casa e Decora√ß√£o', color: 'rgba(249, 115, 22, 0.7)', border: 'rgba(249, 115, 22, 1)', tasks: [
                            { days: 'Dias 1-3', idea: 'Transforma√ß√£o de Ambientes: Crie v√≠deos de "antes e depois" din√¢micos usando seus itens de decora√ß√£o.', tips: 'Utilize transi√ß√µes r√°pidas e m√∫sicas populares. Filmagens curtas, bem iluminadas e com foco nos detalhes s√£o cruciais.', basePrompt: 'Criar v√≠deos de "antes e depois" din√¢micos usando itens de decora√ß√£o para transforma√ß√£o de ambientes.' },
                            { days: 'Dias 4-5', idea: 'Organiza√ß√£o e Funcionalidade: Apresente solu√ß√µes inteligentes para organiza√ß√£o da casa que voc√™ vende (potes, cestos, nichos).', tips: 'Demonstre a praticidade e a funcionalidade de cada item em uso. Filmar a a√ß√£o de organizar e o resultado final √© mais eficaz.', basePrompt: 'Apresentar solu√ß√µes inteligentes para organiza√ß√£o da casa.' },
                            { days: 'Dias 6-7', idea: 'Detalhes que Encantam: Destaque itens menores que fazem uma grande diferen√ßa na decora√ß√£o (velas, lumin√°rias, pequenos objetos de arte).', tips: 'Crie um clima aconchegante e convidativo com ilumina√ß√£o suave. Use efeitos de c√¢mera lenta ou close-ups para valorizar a beleza de cada pe√ßa.', basePrompt: 'Destacar itens menores que fazem grande diferen√ßa na decora√ß√£o.' }
                        ]},
                        { id: 'semana2-opt4', title: 'Semana 2: Pequenos Tesouros, Grandes Cuidados (Maternidade e Beb√™)', niche: 'Maternidade e Beb√™', color: 'rgba(20, 184, 166, 0.7)', border: 'rgba(20, 184, 166, 1)', tasks: [
                            { days: 'Dias 8-10', idea: 'Essenciais para o Beb√™: Demonstre itens indispens√°veis para o cuidado di√°rio do beb√™ (kits de higiene, trocadores port√°teis, paninhos de boca).', tips: 'Foque na praticidade, higiene, seguran√ßa e conforto dos produtos. Se poss√≠vel, use um modelo (beb√™ ou boneca) para mostrar o uso de forma fofa e realista.', basePrompt: 'Demonstrar itens indispens√°veis para o cuidado di√°rio do beb√™.' },
                            { days: 'Dias 11-12', idea: 'Quarto dos Sonhos: Crie v√≠deos inspiradores mostrando como montar ou decorar um cantinho especial para o beb√™ usando seus produtos (kits de ber√ßo, m√≥biles, decora√ß√µes).', tips: 'Explore a fofura, o conforto e a seguran√ßa do ambiente. Use m√∫sicas suaves e uma ilumina√ß√£o que transmita calma e aconchego.', basePrompt: 'Mostrar como montar ou decorar um cantinho especial para o beb√™.' },
                            { days: 'Dias 13-14', idea: 'Facilitando a Rotina da Mam√£e: D√™ dicas e apresente produtos que realmente ajudam na rotina intensa da maternidade (bolsas t√©rmicas, babadores pr√°ticos, brinquedos educativos).', tips: 'Demonstre como seus produtos apoiam as m√£es em diferentes situa√ß√µes do dia a dia. Pode ser um v√≠deo mais narrado, mostrando empatia e solu√ß√µes reais.', basePrompt: 'Apresentar produtos que ajudam na rotina da maternidade.' }
                        ]},
                        { id: 'semana3-opt4', title: 'Semana 3: Beleza e Bem-Estar (Cosm√©ticos e Cuidados Pessoais)', niche: 'Beleza e Cuidados Pessoais', color: 'rgba(225, 29, 72, 0.7)', border: 'rgba(225, 29, 72, 1)', tasks: [
                            { days: 'Dias 15-17', idea: 'Rotina de Skincare/Beleza: Demonstre um passo a passo de uma rotina de cuidados completa usando seus produtos (skincare, maquiagem, cuidados capilares).', tips: 'Mostre as texturas dos produtos, a forma de aplica√ß√£o e os resultados imediatos. Use close-ups. A autenticidade √© muito valorizada.', basePrompt: 'Demonstrar uma rotina de skincare/beleza completa.' },
                            { days: 'Dias 18-19', idea: 'Dicas e Truques: Compartilhe dicas r√°pidas de beleza ou truques de aplica√ß√£o de produtos (como aplicar uma m√°scara, truques de maquiagem).', tips: 'V√≠deos curtos e diretos, com legendas claras para facilitar a compreens√£o. Foque em resolver uma "dor" ou curiosidade comum.', basePrompt: 'Compartilhar dicas r√°pidas de beleza ou truques de aplica√ß√£o de produtos.' },
                            { days: 'Dias 20-21', idea: 'Ingredientes e Benef√≠cios: Fale sobre os ativos e ingredientes especiais dos seus produtos e seus benef√≠cios (√°cido hialur√¥nico, vitaminas, produtos veganos).', tips: 'Pode ser um v√≠deo mais explicativo, mas sempre visual e did√°tico. Mostre o produto enquanto fala, aproxime para ler o r√≥tulo.', basePrompt: 'Falar sobre os ingredientes e benef√≠cios dos produtos de beleza.' }
                        ]},
                        { id: 'semana4-opt4', title: 'Semana 4: Mundo Fashion e Acess√≥rios (Moda e Estilo)', niche: 'Moda e Acess√≥rios', color: 'rgba(79, 70, 229, 0.7)', border: 'rgba(79, 70, 229, 1)', tasks: [
                            { days: 'Dias 22-24', idea: 'Montando Looks: Crie diferentes composi√ß√µes de looks usando suas roupas e acess√≥rios para diversas ocasi√µes (casual, trabalho, festa).', tips: 'Use transi√ß√µes de troca de roupa r√°pidas ("get ready with me"). M√∫sicas em alta e poses din√¢micas s√£o essenciais.', basePrompt: 'Criar diferentes composi√ß√µes de looks usando roupas e acess√≥rios.' },
                            { days: 'Dias 25-26', idea: 'Destaque de Pe√ßas-Chave: Apresente uma pe√ßa ou acess√≥rio espec√≠fico e mostre 3 ou mais formas diferentes de us√°-la.', tips: 'D√™ dicas de estilo e combine com outros itens. O foco √© na versatilidade e no custo-benef√≠cio da pe√ßa.', basePrompt: 'Apresentar uma pe√ßa ou acess√≥rio chave e v√°rias formas de us√°-la.' },
                            { days: 'Dias 27-28', idea: 'Tend√™ncias e Novidades: Explore as √∫ltimas tend√™ncias de moda e como seus produtos se encaixam nelas. Apresente lan√ßamentos ou promo√ß√µes.', tips: 'Seja um "fashionista" e um "trendsetter". Comente sobre as cores da esta√ß√£o, os cortes que est√£o em alta e como suas pe√ßas se alinham.', basePrompt: 'Explorar as √∫ltimas tend√™ncias de moda e como os produtos se encaixam.' },
                            { days: 'Dias 29-30', idea: 'Seu Estilo, Nossa Marca + Conclus√£o do Desafio: Convide seguidores a compartilharem seus looks com uma hashtag. Encerre com um agradecimento e uma oferta final.', tips: 'Anuncie uma oferta final de 24h/48h ou um sorteio para quem participou. Crie um senso de comunidade e recompense o engajamento.', basePrompt: 'Convidar seguidores a compartilharem looks e concluir o desafio com uma oferta.' }
                        ]}
                    ]
                }
            };

            let challengeChartInstance = null; 

            function wrapLabel(label, maxCharsPerLine) {
                if (label.length <= maxCharsPerLine) {
                    return label;
                }
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length <= maxCharsPerLine) {
                        currentLine += (currentLine === '' ? '' : ' ') + word;
                    } else {
                        lines.push(currentLine);
                        currentLine = word;
                    }
                });
                lines.push(currentLine);
                return lines;
            }

            async function generateContent(prompt, targetElement, loadingElement) {
                loadingElement.innerHTML = '<span class="loading-spinner"></span> Gerando...';
                targetElement.textContent = '';
                try {
                    const chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = ""; 
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        targetElement.textContent = text;
                    } else {
                        targetElement.textContent = 'Erro ao gerar conte√∫do. Tente novamente.';
                    }
                } catch (error) {
                    targetElement.textContent = 'Erro de conex√£o ou API. Verifique sua rede.';
                } finally {
                    loadingElement.innerHTML = '';
                }
            }

            function handleGenerateVideoIdea(taskData, weekTitle, niche, llmResultsArea, loadingSpinner) {
                const prompt = `Gere 3 ideias criativas e curtas para um v√≠deo do Shopee V√≠deos, baseadas na seguinte tarefa: '${taskData.basePrompt}'. O v√≠deo √© sobre '${weekTitle}'. O nicho principal √© '${niche}'. As ideias devem ser pr√°ticas para um vendedor.`;
                generateContent(prompt, llmResultsArea, loadingSpinner);
            }

            function handleGenerateCaptionAndHashtags(taskData, weekTitle, niche, llmResultsArea, loadingSpinner) {
                const prompt = `Crie uma legenda curta (at√© 150 caracteres) e 5 hashtags relevantes para um v√≠deo do Shopee V√≠deos com a seguinte ideia: '${taskData.basePrompt}'. O v√≠deo √© sobre '${weekTitle}'. O nicho principal √© '${niche}'. As hashtags devem ser populares e espec√≠ficas para o nicho.`;
                generateContent(prompt, llmResultsArea, loadingSpinner);
            }

            function renderChallenge(optionKey) {
                const challenge = challengeData[optionKey];
                document.getElementById('current-challenge-title').textContent = challenge.title;
                document.getElementById('current-challenge-description').textContent = challenge.description;

                const dynamicContentDiv = document.getElementById('dynamic-challenge-content');
                dynamicContentDiv.innerHTML = ''; 

                const navLinksContainer = document.getElementById('main-nav');
                navLinksContainer.innerHTML = ''; 

                challenge.weeks.forEach((week, index) => {
                    const navItem = document.createElement('li');
                    navItem.innerHTML = `<a href="#${week.id}" class="nav-link">Semana ${index + 1}</a>`;
                    navLinksContainer.appendChild(navItem);

                    const weekSection = document.createElement('section');
                    weekSection.id = week.id;
                    weekSection.className = `mb-16 pt-16 -mt-16`;
                    weekSection.innerHTML = `
                        <h2 class="text-3xl font-bold mb-3 ${getWeekTitleColorClass(optionKey, index)} border-b-2 ${getWeekBorderColorClass(optionKey, index)} pb-2">${week.title}</h2>
                        <p class="text-gray-600 mb-8">${challenge.description}</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    `;
                    const tasksGrid = weekSection.querySelector('.grid');

                    week.tasks.forEach((task, taskIndex) => {
                        const taskCard = document.createElement('div');
                        taskCard.className = `task-card bg-white p-5 rounded-xl shadow-lg border-transparent`;
                        taskCard.setAttribute('data-day', `${index * 7 + taskIndex + 1}`); 
                        taskCard.innerHTML = `
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="task-title text-xl font-bold text-gray-800">${task.days}: ${task.idea.split(':')[0]}</h3>
                                <div class="flex items-center space-x-2">
                                    <input type="checkbox" class="task-checkbox h-5 w-5 rounded ${getCheckboxColorClass(optionKey, index)}">
                                </div>
                            </div>
                            <p class="font-semibold text-gray-700 mb-2">üí° Ideia de V√≠deo:</p>
                            <p class="text-gray-600 mb-4">${task.idea.split(':').slice(1).join(':').trim() || task.idea}</p>
                            <div class="tips-content hidden">
                                <p class="font-semibold text-gray-700 mb-2">üé¨ Dicas de Produ√ß√£o:</p>
                                <p class="text-gray-600">${task.tips}</p>
                            </div>
                            <button class="toggle-tips-btn mt-2 text-sm font-semibold ${getButtonColorClass(optionKey, index)}">Ver Dicas</button>
                            <div class="mt-4 flex flex-col sm:flex-row gap-2">
                                <button class="generate-idea-btn flex-1 bg-orange-500 text-white text-sm font-semibold py-2 px-3 rounded-md hover:bg-orange-600 transition-colors">‚ú® Gerar Ideia de V√≠deo</button>
                                <button class="generate-caption-btn flex-1 bg-blue-500 text-white text-sm font-semibold py-2 px-3 rounded-md hover:bg-blue-600 transition-colors">‚ú® Gerar Legenda/Hashtags</button>
                            </div>
                            <div class="llm-results-area mt-4 hidden"></div>
                            <div class="llm-loading-spinner text-sm text-gray-500 mt-2"></div>
                        `;
                        tasksGrid.appendChild(taskCard);
                    });
                    dynamicContentDiv.appendChild(weekSection);
                });

                const dicasNavItem = document.createElement('li');
                dicasNavItem.innerHTML = `<a href="#dicas" class="nav-link">Dicas</a>`;
                navLinksContainer.appendChild(dicasNavItem);

                const bonusNavItem = document.createElement('li');
                bonusNavItem.innerHTML = `<a href="#bonus" class="nav-link">B√¥nus</a>`;
                navLinksContainer.appendChild(bonusNavItem);

                attachEventListeners(optionKey);
                updateChart(optionKey);
            }

            function getWeekTitleColorClass(optionKey, weekIndex) {
                const colors = {
                    option1: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option2: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option3: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option4: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600']
                };
                return colors[optionKey][weekIndex] || 'text-gray-800';
            }

            function getWeekBorderColorClass(optionKey, weekIndex) {
                const colors = {
                    option1: ['border-orange-200', 'border-teal-200', 'border-rose-200', 'border-indigo-200'],
                    option2: ['border-orange-200', 'border-teal-200', 'border-rose-200', 'border-indigo-200'],
                    option3: ['border-orange-200', 'border-teal-200', 'border-rose-200', 'border-indigo-200'],
                    option4: ['border-orange-200', 'border-teal-200', 'border-rose-200', 'border-indigo-200']
                };
                return colors[optionKey][weekIndex] || 'border-gray-300';
            }

            function getCheckboxColorClass(optionKey, weekIndex) {
                const colors = {
                    option1: ['text-orange-500', 'text-teal-500', 'text-rose-500', 'text-indigo-500'],
                    option2: ['text-orange-500', 'text-teal-500', 'text-rose-500', 'text-indigo-500'],
                    option3: ['text-orange-500', 'text-teal-500', 'text-rose-500', 'text-indigo-500'],
                    option4: ['text-orange-500', 'text-teal-500', 'text-rose-500', 'text-indigo-500']
                };
                return `focus:ring-${colors[optionKey][weekIndex].split('-')[0]}-400 ${colors[optionKey][weekIndex]}`;
            }

            function getButtonColorClass(optionKey, weekIndex) {
                const colors = {
                    option1: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option2: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option3: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600'],
                    option4: ['text-orange-600', 'text-teal-600', 'text-rose-600', 'text-indigo-600']
                };
                return `hover:text-${colors[optionKey][weekIndex].split('-')[0]}-800 ${colors[optionKey][weekIndex]}`;
            }

            function updateChart(optionKey) {
                const challenge = challengeData[optionKey];
                const labels = challenge.weeks.map(week => wrapLabel(week.title, 16));
                const data = challenge.weeks.map(week => week.tasks.length);
                const backgroundColors = challenge.weeks.map(week => week.color);
                const borderColors = challenge.weeks.map(week => week.border);

                if (challengeChartInstance) {
                    challengeChartInstance.data.labels = labels;
                    challengeChartInstance.data.datasets[0].data = data;
                    challengeChartInstance.data.datasets[0].backgroundColor = backgroundColors;
                    challengeChartInstance.data.datasets[0].borderColor = borderColors;
                    challengeChartInstance.update();
                } else {
                    const ctx = document.getElementById('challengeChart').getContext('2d');
                    challengeChartInstance = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Dias no Desafio',
                                data: data,
                                backgroundColor: backgroundColors,
                                borderColor: borderColors,
                                borderWidth: 2,
                                hoverOffset: 10
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom',
                                    labels: {
                                        padding: 20,
                                        font: {
                                            size: 14
                                        }
                                    }
                                },
                                tooltip: {
                                    callbacks: {
                                        label: function(context) {
                                            let label = context.label || '';
                                            if (Array.isArray(label)) {
                                                label = label.join(' ');
                                            }
                                            if (label) {
                                                label += ': ';
                                            }
                                            if (context.parsed !== null) {
                                                label += context.parsed + ' dias';
                                            }
                                            return label;
                                        }
                                    }
                                }
                            },
                            onClick: (event, elements) => {
                                if (elements.length > 0) {
                                    const i = elements[0].index;
                                    const sectionId = challenge.weeks[i].id;
                                    const section = document.querySelector(`#${sectionId}`);
                                    if (section) {
                                        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    }
                                }
                            }
                        }
                    });
                }
            }

            function attachEventListeners(currentOptionKey) {
                const tipButtons = document.querySelectorAll('.toggle-tips-btn');
                tipButtons.forEach(button => {
                    button.onclick = null; 
                    button.addEventListener('click', () => {
                        const tipsContent = button.previousElementSibling;
                        const isHidden = tipsContent.classList.contains('hidden');
                        tipsContent.classList.toggle('hidden');
                        button.textContent = isHidden ? 'Ocultar Dicas' : 'Ver Dicas';
                    });
                });

                const checkboxes = document.querySelectorAll('.task-checkbox');
                checkboxes.forEach(checkbox => {
                    checkbox.onchange = null; 
                    checkbox.addEventListener('change', (e) => {
                        const card = e.target.closest('.task-card');
                        if (e.target.checked) {
                            card.classList.add('completed');
                        } else {
                            card.classList.remove('completed');
                        }
                    });
                });

                document.querySelectorAll('nav a').forEach(anchor => {
                    anchor.onclick = null; 
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        document.querySelector(this.getAttribute('href')).scrollIntoView({
                            behavior: 'smooth'
                        });
                    });
                });

                const generateIdeaButtons = document.querySelectorAll('.generate-idea-btn');
                generateIdeaButtons.forEach(button => {
                    button.onclick = null; 
                    button.addEventListener('click', (e) => {
                        const card = e.target.closest('.task-card');
                        const dayAttr = card.getAttribute('data-day');
                        const weekIndex = Math.floor((parseInt(dayAttr) - 1) / 7); 
                        const taskIndex = (parseInt(dayAttr) - 1) % 7;

                        const challenge = challengeData[currentOptionKey];
                        const week = challenge.weeks[weekIndex];
                        const task = week.tasks[taskIndex];

                        const llmResultsArea = card.querySelector('.llm-results-area');
                        llmResultsArea.classList.remove('hidden');
                        const loadingSpinner = card.querySelector('.llm-loading-spinner');
                        
                        handleGenerateVideoIdea(task, week.title, week.niche, llmResultsArea, loadingSpinner);
                    });
                });

                const generateCaptionButtons = document.querySelectorAll('.generate-caption-btn');
                generateCaptionButtons.forEach(button => {
                    button.onclick = null; 
                    button.addEventListener('click', (e) => {
                        const card = e.target.closest('.task-card');
                        const dayAttr = card.getAttribute('data-day');
                        const weekIndex = Math.floor((parseInt(dayAttr) - 1) / 7);
                        const taskIndex = (parseInt(dayAttr) - 1) % 7;

                        const challenge = challengeData[currentOptionKey];
                        const week = challenge.weeks[weekIndex];
                        const task = week.tasks[taskIndex];

                        const llmResultsArea = card.querySelector('.llm-results-area');
                        llmResultsArea.classList.remove('hidden');
                        const loadingSpinner = card.querySelector('.llm-loading-spinner');

                        handleGenerateCaptionAndHashtags(task, week.title, week.niche, llmResultsArea, loadingSpinner);
                    });
                });
            }

            renderChallenge('option4');

            const challengeSelectors = document.querySelectorAll('input[name="challenge_option"]');
            challengeSelectors.forEach(selector => {
                selector.addEventListener('change', (e) => {
                    renderChallenge(e.target.value);
                });
            });
        });
    </script>

</body>
</html>